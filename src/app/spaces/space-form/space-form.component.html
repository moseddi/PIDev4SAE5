<div class="min-h-screen bg-[#F7EDE2] p-8">
  <div class="max-w-3xl mx-auto">
    <!-- Header -->
    <div class="text-center mb-12">
      <div class="bg-[#2D5757] w-20 h-20 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-xl">
        <svg class="w-10 h-10 text-[#F7EDE2]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4">
          </path>
        </svg>
      </div>
      <h1 class="text-4xl font-black text-[#2D5757] mb-3 tracking-tighter uppercase">
        {{ isEditMode ? 'Edit Physical Space' : 'New Physical Asset' }}
      </h1>
      <p class="text-[#2D5757]/40 font-bold text-xs uppercase tracking-[0.2em]">
        {{ isEditMode ? 'Update resource configuration' : 'Initialize a new facility for school activities' }}
      </p>
    </div>

    <!-- Form Card -->
    <div
      class="bg-white rounded-[3rem] shadow-2xl border border-black/5 p-10 md:p-16 animate-in slide-in-from-bottom duration-500">
      <form [formGroup]="spaceForm" (ngSubmit)="onSubmit()" class="space-y-12">

        <!-- Section: Primary Identification -->
        <div class="space-y-8">
          <h3
            class="text-[10px] font-black text-[#2D5757] uppercase tracking-[0.3em] border-b border-[#2D5757]/10 pb-4">
            Resource Identification</h3>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- Code Field -->
            <div class="space-y-2">
              <label for="code"
                class="block text-[10px] font-black uppercase tracking-widest text-[#2D5757]/40 ml-1">Asset Index Code
                *</label>
              <input id="code" type="text" formControlName="Code"
                class="w-full px-6 py-4 bg-[#F7EDE2]/20 border border-[#2D5757]/10 rounded-2xl text-[#2D5757] font-bold placeholder-[#2D5757]/20 focus:outline-none focus:ring-4 focus:ring-[#2D5757]/5 focus:border-[#2D5757] transition-all"
                placeholder="e.g. AUD001" />
              <div *ngIf="spaceForm.get('Code')?.invalid && spaceForm.get('Code')?.touched"
                class="mt-2 text-red-500 text-[10px] font-bold uppercase tracking-wide ml-1">
                <div *ngIf="spaceForm.get('Code')?.errors?.['required']">Code is mandatory</div>
              </div>
            </div>

            <!-- Name Field -->
            <div class="space-y-2">
              <label for="name"
                class="block text-[10px] font-black uppercase tracking-widest text-[#2D5757]/40 ml-1">Official
                Designation *</label>
              <input id="name" type="text" formControlName="Name"
                class="w-full px-6 py-4 bg-[#F7EDE2]/20 border border-[#2D5757]/10 rounded-2xl text-[#2D5757] font-bold placeholder-[#2D5757]/20 focus:outline-none focus:ring-4 focus:ring-[#2D5757]/5 focus:border-[#2D5757] transition-all"
                placeholder="e.g. Grand Auditorium" />
              <div *ngIf="spaceForm.get('Name')?.invalid && spaceForm.get('Name')?.touched"
                class="mt-2 text-red-500 text-[10px] font-bold uppercase tracking-wide ml-1">
                <div *ngIf="spaceForm.get('Name')?.errors?.['required']">Designation is mandatory</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Section: classification & Logistics -->
        <div class="space-y-8">
          <h3
            class="text-[10px] font-black text-[#2D5757] uppercase tracking-[0.3em] border-b border-[#2D5757]/10 pb-4">
            Classification & Capacity</h3>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- Type Field -->
            <div class="space-y-2">
              <label for="type"
                class="block text-[10px] font-black uppercase tracking-widest text-[#2D5757]/40 ml-1">Facility
                Type</label>
              <div class="relative">
                <select id="type" formControlName="Type"
                  class="w-full px-6 py-4 bg-[#F7EDE2]/20 border border-[#2D5757]/10 rounded-2xl text-[#2D5757] font-bold focus:outline-none focus:ring-4 focus:ring-[#2D5757]/5 focus:border-[#2D5757] transition-all appearance-none">
                  <option value="{{ SpaceType.AUDITORIUM }}">Auditorium</option>
                  <option value="{{ SpaceType.CLASSROOM }}">Classroom</option>
                  <option value="{{ SpaceType.LABORATORY }}">Laboratory</option>
                  <option value="{{ SpaceType.GYMNASIUM }}">Gymnasium</option>
                  <option value="{{ SpaceType.STUDIO }}">Studio</option>
                  <option value="{{ SpaceType.CONFERENCE_ROOM }}">Conference Room</option>
                  <option value="{{ SpaceType.STUDY_ROOM }}">Study Room</option>
                  <option value="{{ SpaceType.SPORTS_FIELD }}">Sports Field</option>
                </select>
                <div class="absolute right-6 top-1/2 -translate-y-1/2 pointer-events-none text-[#2D5757]/30">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                  </svg>
                </div>
              </div>
            </div>

            <!-- Location Field -->
            <div class="space-y-2">
              <label for="location"
                class="block text-[10px] font-black uppercase tracking-widest text-[#2D5757]/40 ml-1">Deployment Zone
                *</label>
              <input id="location" type="text" formControlName="Location"
                class="w-full px-6 py-4 bg-[#F7EDE2]/20 border border-[#2D5757]/10 rounded-2xl text-[#2D5757] font-bold placeholder-[#2D5757]/20 focus:outline-none focus:ring-4 focus:ring-[#2D5757]/5 focus:border-[#2D5757] transition-all"
                placeholder="e.g. Building A, Floor 1" />
            </div>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- Capacity Field -->
            <div class="space-y-2">
              <label for="capacity"
                class="block text-[10px] font-black uppercase tracking-widest text-[#2D5757]/40 ml-1">Global Volume
                Index *</label>
              <input id="capacity" type="number" formControlName="Capacity"
                class="w-full px-6 py-4 bg-[#F7EDE2]/20 border border-[#2D5757]/10 rounded-2xl text-[#2D5757] font-bold focus:outline-none focus:ring-4 focus:ring-[#2D5757]/5 focus:border-[#2D5757] transition-all"
                placeholder="Total max capacity" min="1" />
            </div>

            <!-- Max Participants Field -->
            <div class="space-y-2">
              <label for="maxParticipants"
                class="block text-[10px] font-black uppercase tracking-widest text-[#2D5757]/40 ml-1">Operational
                Occupancy *</label>
              <input id="maxParticipants" type="number" formControlName="Max_Participants"
                class="w-full px-6 py-4 bg-[#F7EDE2]/20 border border-[#2D5757]/10 rounded-2xl text-[#2D5757] font-bold focus:outline-none focus:ring-4 focus:ring-[#2D5757]/5 focus:border-[#2D5757] transition-all"
                placeholder="Functional limit" min="1" />
            </div>
          </div>
        </div>

        <!-- Section: Assets & Status -->
        <div class="space-y-8">
          <h3
            class="text-[10px] font-black text-[#2D5757] uppercase tracking-[0.3em] border-b border-[#2D5757]/10 pb-4">
            Logistics & Availability</h3>

          <!-- Equipment Field -->
          <div class="space-y-4">
            <label class="block text-[10px] font-black uppercase tracking-widest text-[#2D5757]/40 ml-1">Embedded
              Logistics Inventory</label>
            <div class="flex gap-3">
              <input type="text" [value]="equipmentInput" (input)="onEquipmentInputKeyup($event)"
                (keyup.enter)="addEquipment()"
                class="flex-1 px-6 py-4 bg-[#F7EDE2]/20 border border-[#2D5757]/10 rounded-2xl text-[#2D5757] font-bold placeholder-[#2D5757]/20 focus:outline-none focus:ring-4 focus:ring-[#2D5757]/5 focus:border-[#2D5757] transition-all"
                placeholder="Specify equipment item..." />
              <button type="button" (click)="addEquipment()"
                class="px-8 py-4 bg-[#2D5757] text-[#F7EDE2] rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-[#1a3a3a] transition-all shadow-md">
                Deploy
              </button>
            </div>

            <div class="flex flex-wrap gap-2 pt-2">
              <span *ngFor="let item of equipmentList; let i = index"
                class="inline-flex items-center px-4 py-2 bg-[#2D5757]/5 text-[#2D5757] text-[10px] font-black uppercase tracking-widest rounded-xl border border-[#2D5757]/5">
                {{ item }}
                <button type="button" (click)="removeEquipment(i)"
                  class="ml-3 text-red-400 hover:text-red-600 transition-colors">
                  Ã—
                </button>
              </span>
            </div>
          </div>

          <!-- Status Field -->
          <div class="space-y-2">
            <label for="status"
              class="block text-[10px] font-black uppercase tracking-widest text-[#2D5757]/40 ml-1">Asset Status</label>
            <div class="relative">
              <select id="status" formControlName="Status"
                class="w-full px-6 py-4 bg-[#F7EDE2]/20 border border-[#2D5757]/10 rounded-2xl text-[#2D5757] font-bold focus:outline-none focus:ring-4 focus:ring-[#2D5757]/5 focus:border-[#2D5757] transition-all appearance-none">
                <option value="available">Available (Standby)</option>
                <option value="occupied">Occupied (Active)</option>
                <option value="maintenance">Maintenance (Offline)</option>
                <option value="reserved">Reserved (Booked)</option>
              </select>
              <div class="absolute right-6 top-1/2 -translate-y-1/2 pointer-events-none text-[#2D5757]/30">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
              </div>
            </div>
          </div>
        </div>

        <!-- Form Actions -->
        <div class="flex flex-col sm:flex-row gap-4 pt-10 border-t border-[#2D5757]/5">
          <button type="submit" [disabled]="spaceForm.invalid"
            class="flex-1 px-8 py-5 bg-[#2D5757] text-[#F7EDE2] rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-[#1a3a3a] transition-all shadow-xl disabled:opacity-20 disabled:cursor-not-allowed group">
            <span class="flex items-center justify-center">
              {{ isEditMode ? 'Authorize Transformation' : 'Register Asset' }}
              <svg class="w-4 h-4 ml-3 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor"
                viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3">
                </path>
              </svg>
            </span>
          </button>
          <button type="button" (click)="onCancel()"
            class="px-8 py-5 text-[#2D5757]/40 hover:text-[#2D5757] font-black text-xs uppercase tracking-widest transition-colors">
            Discard
          </button>
        </div>
      </form>
    </div>
  </div>
</div>